# Flujo de Autenticación 3DS (Azul)

## Actores
- **Comprador**
- **Comercio**
- **Azul**
- **ACS Emisor**

---

## Inicio del pago
**Paso 1.** El cliente somete los detalles del pago al **Comercio**.

---

## Inicio del proceso de autenticación 3DS
**Paso 2.** El **Comercio** envía la solicitud de transacción de pago a **Azul**, incluyendo los campos de autenticación.  
**Paso 3.** **Azul** responde con **3D2METHOD** para evaluar la autenticación.

---

## Envío de detalles del ambiente del tarjetahabiente
**Paso 4.** El **Comercio** somete la data del **MethodForm** al **ACS del emisor**.  
**Paso 4 (respuesta).** El **ACS** responde al **MethodNotificationUrl**.

---

## Continuar proceso de autenticación 3DS
**Paso 5.** El **Comercio** envía **MethodNotificationStatus** a **Azul**.  
**Paso 6.** **Azul** responde indicando si la autenticación requiere desafío.

---

## Desafío 3DS
**Paso 7.** Inicio del desafío al tarjetahabiente (POST de datos **cReq** al **RedirectPostUrl**).  
**Paso 7.** El **ACS** solicita los detalles de autenticación.  
**Paso 7.** El **Comprador** provee los detalles de autenticación.  
**Paso 7.** La respuesta de autenticación se envía al **TermUrl**.

---

## Finalización
**Paso 8.** El **Comercio** envía **cRes** a **ProcessThreeDSChallenge**.  
**Paso 9.** **Azul** envía la respuesta final de autorización.  
**Paso 9.** El **Comercio** recibe la respuesta final y se completa el pago.

PASO 1: El cliente somete detalles al Comercio
================================================================================

================================================================================
PASO 2: Inicio del proceso de autenticación 3DS (Solicitud a Azul)
Tarjeta: Desafio con 3DSMethod
================================================================================

Enviando peticion a: https://pruebas.azul.com.do/webservices/JSON/Default.aspx

[Paso 3] Azul respondió con 3D2METHOD
Response data: {
  "AuthorizationCode": "",
  "AzulOrderId": "44874143",
  "CustomOrderId": "GRD-1769291224275",
  "DateTime": "20260124174705",
  "ErrorDescription": "",
  "IsoCode": "3D2METHOD",
  "LotNumber": "",
  "RRN": "",
  "ResponseCode": "ISO8583",
  "ResponseMessage": "3D_SECURE_2_METHOD",
  "ThreeDSMethod": {
    "MethodForm": "<iframe id=\"tdsMmethodTgtFrame\" name=\"tdsMmethodTgtFrame\" style=\"visibility: hidden; width: 1px; height: 1px;\" xmlns=\"http://www.w3.org/1999/xhtml\">\n    <!--.-->\n</iframe><form id=\"tdsMmethodForm\" name=\"tdsMmethodForm\" action=\"https://3ds-acs.test.modirum.com/mdpayacs/3ds-method\" method=\"post\" target=\"tdsMmethodTgtFrame\" xmlns=\"http://www.w3.org/1999/xhtml\">\n    <input type=\"hidden\" name=\"3DSMethodData\" value=\"eyAidGhyZWVEU1NlcnZlclRyYW5zSUQiIDogImVjMTg2MjcyLWNlY2EtNTFiZC04MDAwLTAwMDAwNDA1MDcxOSIsICJ0aHJlZURTTWV0aG9kTm90aWZpY2F0aW9uVVJMIiA6ICJodHRwczovL3d3dy5nb29nbGUuY29tIiB9\"/>\n    <input type=\"hidden\" name=\"threeDSMethodData\" value=\"eyAidGhyZWVEU1NlcnZlclRyYW5zSUQiIDogImVjMTg2MjcyLWNlY2EtNTFiZC04MDAwLTAwMDAwNDA1MDcxOSIsICJ0aHJlZURTTWV0aG9kTm90aWZpY2F0aW9uVVJMIiA6ICJodHRwczovL3d3dy5nb29nbGUuY29tIiB9\"/>\n    <script type=\"text/javascript\">\n\t\t\t\tdocument.getElementById(\"tdsMmethodForm\").submit();\n\t\t\t</script>\n</form>"
  },
  "Ticket": ""
}

================================================================================
PASO 4: Envío de detalles del ambiente del tarjetahabiente (MethodForm)
ADVERTENCIA: ThreeDSMethodData o ThreeDSMethodUrl no presentes.
Contenido recibido: undefined
Continuando simulacion...
================================================================================
Simulando envío de ThreeDSMethodData al ACS del emisor...
Respuesta del ACS recibida en MethodNotificationUrl.

================================================================================
PASO 5-6: Continuar proceso de autenticación 3DS (MethodNotificationStatus)
================================================================================

Enviando peticion a: https://pruebas.azul.com.do/webservices/JSON/Default.aspx?processthreedsmethod

[Paso 6] Azul indica que requiere DESAFÍO

================================================================================
PASO 7: Desafío 3DS (Inicio del desafío)
1. Abre scripts/3ds-helper.html en tu navegador.

   URL: https://3ds-acs.test.modirum.com/mdpayacs/creq;token=365961261.1769291242.Ih44SWL3_Os1glQdoO8XSegB2nzpTRZk4TbCo4gwzsE

   CReq: ewogICAgImFjc1RyYW5zSUQiOiAiMzcwMmU2YmQtN2QxOC00YzViLWFmZjYtNTJiZjFlMTNlZmZhIiwKICAgICJjaGFsbGVuZ2VXaW5kb3dTaXplIjogIjAzIiwKICAgICJtZXNzYWdlVHlwZSI6ICJDUmVxIiwKICAgICJtZXNzYWdlVmVyc2lvbiI6ICIyLjIuMCIsCiAgICAidGhyZWVEU1NlcnZlclRyYW5zSUQiOiAiZWMxODYyNzItY2VjYS01MWJkLTgwMDAtMDAwMDA0MDUwNzE5Igp9
================================================================================

[?] Ingresa el CRes obtenido tras el desafío: 